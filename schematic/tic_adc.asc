Version 4
SHEET 1 1304 680
WIRE 224 -464 64 -464
WIRE 368 -464 224 -464
WIRE 64 -432 64 -464
WIRE 64 -352 -80 -352
WIRE -208 -288 -256 -288
WIRE -32 -288 -128 -288
WIRE 224 -272 224 -464
WIRE -256 -224 -256 -288
WIRE 368 -208 368 -464
WIRE -32 -144 -32 -208
WIRE 64 -144 -32 -144
WIRE 160 -144 128 -144
WIRE 224 -144 224 -192
WIRE 224 -144 160 -144
WIRE 368 -144 224 -144
WIRE 400 -144 368 -144
WIRE 512 -144 480 -144
WIRE -688 -112 -800 -112
WIRE -368 -112 -480 -112
WIRE -32 -112 -32 -144
WIRE 224 -112 224 -144
WIRE 512 -112 512 -144
WIRE -688 -80 -688 -112
WIRE -368 -80 -368 -112
WIRE -800 -64 -800 -112
WIRE -480 -64 -480 -112
WIRE -688 16 -688 0
WIRE -688 16 -800 16
WIRE -480 16 -688 16
WIRE -368 16 -368 0
WIRE -368 16 -480 16
WIRE -256 16 -256 -144
WIRE -256 16 -368 16
WIRE -32 16 -32 -32
WIRE -32 16 -256 16
WIRE 224 16 224 -32
WIRE 224 16 -32 16
WIRE 368 16 368 -80
WIRE 368 16 224 16
WIRE 512 16 512 -48
WIRE 512 16 368 16
WIRE -256 48 -256 16
FLAG -256 48 0
FLAG 224 16 gnd
IOPIN 224 16 BiDir
FLAG -80 -352 gnd
IOPIN -80 -352 BiDir
FLAG 160 -144 out
IOPIN 160 -144 BiDir
FLAG -688 -112 sin
IOPIN -688 -112 BiDir
FLAG -368 -112 sq
IOPIN -368 -112 BiDir
FLAG 512 -144 adc
IOPIN 512 -144 BiDir
SYMBOL res -112 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 50
SYMBOL cap 64 -128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 220n
SYMBOL res -48 -304 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res -48 -128 R0
SYMATTR InstName R2
SYMATTR Value 220
SYMBOL res 208 -128 R0
SYMATTR InstName R3
SYMATTR Value 5k
SYMBOL res 208 -288 R0
SYMATTR InstName R4
SYMATTR Value 5k
SYMBOL voltage 64 -448 R0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL diode 384 -80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 384 -144 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL bv -256 -240 R0
SYMATTR InstName B1
SYMATTR Value V=V(sin)*V(sq)*3
SYMBOL voltage -480 -80 R0
WINDOW 3 -262 -134 Left 2
SYMATTR InstName vsq
SYMATTR Value PULSE(1 0 0 1u 1u 416.67u 833.33u)
SYMBOL res -384 -96 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL voltage -800 -80 R0
WINDOW 3 -103 -51 Left 2
SYMATTR InstName vsin
SYMATTR Value SINE(0 1 50k)
SYMBOL res -704 -96 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 496 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL cap 496 -112 R0
SYMATTR InstName C2
SYMATTR Value 4p
TEXT -400 72 Left 2 !.tran 0 1m 0m 1u
